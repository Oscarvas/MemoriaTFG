%---------------------------------------------------------------------
%
%                          Capítulo 5
%
%---------------------------------------------------------------------

\chapter{Primeros Pasos}

\begin{FraseCelebre}
\begin{Frase}
	
\end{Frase}
\begin{Fuente}
	
\end{Fuente}
\end{FraseCelebre}
\label{cap:PrimerosPasos}

El objetivo de este capítulo es explicar la experiencia inicial, de manera que el lector de la memoria observe el problema que surgió y como no nos quedó mas remedio que empezar de cero para poder completar correctamente la investigación.

Al empezar el proyecto, lo primero que se debía hacer era entender de donde se partía y ver si desde esa posición se podían alcanzar las cotas propuestas en la investigación, explicadas en el Capítulo \ref{cap:Objetivos}. También es importante indicar que estas pruebas se realizan sobre la investigación sobre la que parte el proyecto, detallada en el Capítulo \ref{cap:EstadoDeLaCuestion:Lacaustra}.

%-------------------------------------------------------------------

\section{Punto de partida}
Se parte de un trabajo reducido en el que siempre se tenía un mismo inicio (El dragón secuestra a la princesa), con un nudo(el rey contrata caballero) en bucle si se cumplía una condición(dragón mata caballero) y dos desenlaces (Un caballero salva a la princesa y se convierte en héroe o el rey se quedaba sin dinero para contratar caballeros y el dragón se queda con la princesa), esto dista de la idea que tenemos para generar historias diversas y cada vez que se ejecute la aplicación genere una historia única.

\section{Trabajando sobre el sistema previo}

\subsection{Agentes objeto, la princesa}
Las primeras pruebas que se realizaron estaban encaminadas en conseguir que todos los agentes tuviesen un objetivo que intentar cumplir. En la anterior investigación, la princesa era lo que denominaremos un Agente objeto, un Agente que realmente no tiene ninguna funcionalidad. La princesa sencillamente se movía acompañada de un lugar a otro, o bien secuestrada por un dragón o bien rescatada por un caballero, y no era capaz de realizar acciones por su propia iniciativa. 
Como primer objetivo se propuso cambiar este agente, de manera que a veces decidiese escaparse por su propio pie cuando se cansase de esperar un rescate. 

\subsection{La figura del villano}
\label{cap:PrimerosPasos:Villano}
Sin embargo, modificar un agente clave como la princesa era un objetivo demasiado ambicioso, por lo que se busca un problema más sencillo que a su vez cumpla con el objetivo del agente con múltiples objetivos. El personaje que mejor se amolda a esta búsqueda es el caballero. En la anterior investigación el caballero solo tenia una funcionalidad, rescatar a la princesa, y si fallaba sencillamente se generaba otro caballero que ocupase su lugar. Para cambiar esto, se propone que no todos los caballeros traten de salvar a la princesa y dejarla con el rey, surgiendo así el concepto del villano. El villano es basicamente un caballero como otro cualquiera, que cuando derrota al dragón en vez de salvar a la princesa decide llevar acabo una acción malvada, como por ejemplo volver a secuestrarla, provocando que otro caballero deba venir a salvarla. Así se aumentan la cantidad de crear historias distintas con una idea sencilla.

\subsection{Un sistema cerrado}
Sin embargo, estos cambios no resultaban tal y como estaba desarrollado el sistema anterior. El planificador no soportaba tener que elegir aleatoriamente entre dos caballeros cual va a tratar de ser héroe y cual va a tratar de ser villano y, bajo el entendimiento del código disponible, no se podía crear un caballero de manera sencilla que en el punto de inflexión para salvar a la princesa decidiese entre rescatarla o volverla a raptar.

Como primera solución, se propone la creación del personaje \texttt{Villano}, de manera que cuando se crea un caballero, se elija de manera aleatoria si este será \texttt{Caballero} o \texttt{Villano}, de manera que llegado el momento de tratar a la princesa lo harían de manera distinta. Sin embargo la aplicación no estaba pensada para soportar esto, debido a que las batallas debían ser entre un dragón y un caballero, le costaba adaptar el rol del caballero para que fuese dragón por lo que el planificador no se entendía con los cambios, entre otros factores.

A este problema había que sumar la nula adaptabilidad de la aplicación para adaptarse a nuevos entornos, la creación de una interfaz gráfica que interactúe de manera correcta con el código, tener que modificar los personajes a sus nuevas cualidades... Así que llegados a este punto, se decide replantear la aplicación desde cero.

%-------------------------------------------------------------------
\section{Creando un nuevo sistema}
\label{cap:PrimerosPasos:Villano:Cero}
Al replantear la aplicación desde cero hay que tener en cuenta que se parte de la base de la anterior investigación, reutilizando cierta parte del código que aún es funcional para este proyecto. Sin embargo, se ha de adaptar a los personajes y su manera de actuar a las nuevas necesidades, así como rehacer el código de una manera mas estructurada, que se consigue respetando correctamente el las tecnologías explicadas en el Capítulo \ref{cap:EstadoDeLaCuestion}, y minimizando el nivel de acoplamiento del sistema para que sea mas adaptable, lo cual también facilitará el uso de esta investigación en futuros proyectos.

Ahora que ya se está donde se quiere es el momento de sacar la ambición, ya que se ha eliminado una restricción y se puede elaborar un proyecto vacío incluyendo una base que respalda la idea del proyecto y permite avanzar en la investigación con paso seguro.

Es en este punto donde se propone gran parte del diseño, como la creación de nuevos personajes, nuevos antagonistas, e incluso poner algunos personajes totalmente secundarios que sencillamente le den un toque picante a la historia. De la misma manera, se empieza a trabajar en la idea de una aplicación altamente configurable y en una interfaz gráfica que interactúe correctamente con la aplicación.

El análisis y la creación del código se discutirá con mas detalle en los siguientes capítulos, donde se relata detalladamente como han sido diseñados e implementados todos los aspectos de la aplicación durante la realización del proyecto.