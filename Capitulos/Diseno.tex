\chapter{Diseño}

%\begin{FraseCelebre}
%\begin{Frase}
%\end{Frase}
%\begin{Fuente}
%\end{Fuente}
%\end{FraseCelebre}



%-------------------------------------------------------------------


\subsection{Empezando desde cero}

El análisis y posterior uso del código anterior lo trataremos con mas detalle en el apartado de implementación. Lo que si teníamos claro, era que nuestro proyecto iba a incluir forzosamente personajes con múltiples objetivos y una GUI que diese un impacto visual claro a la ejecución de la aplicación.

Para ello, y ahora que por fin eramos capaces, decidimos cambiar a la princesa, de manera que en ocasiones si los caballeros se demoraban demasiado en su trabajo ella era capaz de escaparse de su raptor y volver al castillo por su propio pie.
También modificamos al caballero, de manera que alguno ahora podía ser villano donde estos, si lograban vencer al dragón, entablaban una nueva batalla con la princesa con el objetivo de eliminarla. 


Esto nos permitió satisfacer nuestra necesidad del multiobjetivo, y así pudimos transformar a nuestros agentes en personajes mas profundos, con una serie de posibles objetivos:
(INTRODUCIR TABLA AQUÍ, o bien mintiendo y poniendo solo los posibles objetivos de la princesa y caballero o bien introducir la tocho tabla con los distintos objetivos de cada tipo de personaje)

Hasta que por fin, y ahora si, podíamos tener caballeros que actuasen como villanos y princesas que actuasen y permitiéndonos finales distintos.


\subsection{Ahora que ya estamos donde queremos}
Era el momento de ponernos ambiciosos, así que nos propusimos crear muchos mas personajes, rellenar el mapa con nuevos monstruos, e incluso poner algunos personajes totalmente secundarios que sencillamente le diesen un toque picante a la historia


%-------------------------------------------------------------------
\section{Personajes}
Si quieres dar variedad a tu historia esta debe contar con una gran diversidad de personajes, cada uno con sus virtudes y limitaciones, y a cuantos mas personajes allá mas posibilidades tendrás de crear diferentes historias, ya que cada uno puede actuar de manera distinta en cada ejecución. 

Con este objetivo en mente propusimos un nuevo diseño para nuestros personajes.

Sin embargo las posibles historias que podamos generar comparten siempre una misma base, pues no puede ser de otra manera. 
Siempre aparecerá un monstruo que logrará secuestrar a la princesa, el rey pedirá ayuda a los distintos aspirantes a héroes y estos acudirán a su llamada intentando salvarla, a partir de lo cuál aparecerán distintos personajes.
%-------------------------------------------------------------------

\subsection{El concepto de clase}
Nuestros héroes ya no son los de antes. Por decirlo de alguna manera han madurado, y es su momento de hacer frente a nuevos retos.
Para ello debimos convertir con cuidado a los personajes del antiguo TFG en agentes mas sólidos. Esto implicaba que muchas de las acciones que realizaban debían convertirse a comportamientos, integrados dentro de la fantástica interfaz de JADE, y realizar un correcto traspaso de mensajes para que esto funcionase.

\begin{itemize}
	\item Princesa. Lo primero era tratar a las princesas. En nuestra búsqueda de la princesa fuerte e independiente, lo primero que intentamos conseguir fue que escapara. Así que, cuando los caballeros se demoraban demasiado la princesa se iba impacientando, evaluando sus posibilidades de éxito hasta que, finalmente, decidía emprender la huida por su cuenta. Esto no quiere decir que la princesa se escapase siempre, simplemente a veces lo conseguía y a veces no.
	\item Caballero. Como ya comentamos al principio, los caballeros eran siempre el mismo tipo de personajes y decidimos darla a la clase la opción de que algunos fuesen aspirantes a héroes e intentasen salvar a la princesa y otros fuesen villanos y tras derrotar al dragón también intentasen matar a la princesa.
	\item Rey. Al principio solo había un Rey. Para hacer la historia más variada y poder tener conflictos entre regiones, decidimos incluir un nuevo reino con su correspondiente rey. Los reyes que no poseían hijas apenas aparecían en la historia, mientras que a aquellos a los que les habían secuestrado a la hija contrataba a distintos aspirantes a salvarla, buscando siempre el precio mas bajo, que era proporcionado por estos candidatos, pagandoles sus emolumentos hasta que o bien la princesa era salvada o bien al rey se le acababa el dinero.
	\item Dragón. El Dragón sencillamente buscaba en el mundo princesas secuestrables, que eran básicamente aquellas que no estaban secuestradas, elegía una aleatoriamente, la secuestraba y se la llevaba a una zona predefinida en su dominio.
\end{itemize}

\subsection{Creando nuevos personajes}
Nuevos Monstruos



Nuevos Héroes

Para enfrentarse a estas nuevas amenazas, decidimos incluir nuevos personajes capaces de ayudar a nuestro héroe. Por ejemplo, pensamos que un caballero, en una barca, en medio de un lago, y con una armadura que no es precisamente la equipación oficial de la natación, tendría pocas posibilidades contra una enorme sierpe acuática. 
Así nacieron las figuras del mago y el druida.
El mago sería un hombre calculador, que, con buenas intenciones, podría helar la superficie del lago para que así el caballero pudiese enfrentarse de una manera más justa a la serpiente, o el druida, que en sintonía con la naturaleza, podría transformarse en un gran águila y así hacer al caballero de turno escapar de la emboscada del trol.
Para nosotros esto se traducía  en la programación en que a la hora de por ejemplo plantar batalla, el caballero tuviese una bonificación en sus atributos o que contase con la posibilidad de huir por el camino que más le convenía.

Villanos:
No contentos con esto decidimos que nuestro mundo tenía personajes muy definidos, los buenos eran muy buenos y los malos muy malos. Con ánimo de cambiar esto decidimos introducir el personaje del villano. Como ya explicamos anteriormente, el villano sería un héroe que, por circunstancias de la vida, no planeaba luchar más por el bien y la justicia sino todo lo contrario. Así nuestra primera idea de villano incluía caballeros que cuando podían salvar a la princesa decidían volver a raptarla, pero al final decidimos que preferíamos enfocarlos más como personajes que simplemente buscaban a los caballeros del mundo e intentaban conseguir que no cumpliesen sus objetivos.
Tendríamos así villanos que buscaban otros caballeros para retarles en combates a muerte, magos traidores que se dejaban embaucar por las palabras engañosas de la gran sierpe, ....

Tras esta última prueba, decidimos que nuestro número de personajes activos era suficiente, y pasamos a un nuevo tipo de caracterización para facilitar la distinción.
\begin{itemize}
	\item Mago
	\item Druida
\end{itemize}

\subsection{Raza y atributos}

