%---------------------------------------------------------------------
%
%                          Capítulo 2
%
%---------------------------------------------------------------------

\chapter{Estado del Arte}

\begin{FraseCelebre}
\begin{Frase}
	El conocimiento es poder
\end{Frase}
\begin{Fuente}
	Khadgar, World of Warcraft
\end{Fuente}
\end{FraseCelebre}

%En este capitulo hablaremos del trabajo de investigación que ha sido llevado a cabo durante la realización de nuestro proyecto, y explicaremos las bases que hemos utilizado durante su realización.

%Para comprender con claridad la alta variedad de conceptos usados a lo largo de este proyecto, tanto en sus versiones previas como en su fase actual, es necesario que el lector de éste documento disponga de la base necesaria de conocimientos que le permitirá entender con mayor acierto la razón y el por qué de las características que posee la generación de historias que hemos desarrollado.

La finalidad de éste capítulo es ofrecer una base de conocimientos sólida donde queden reflejados los distintos conceptos y herramientas que se nombrarán en capítulos posteriores.Para ello se ha estructurado este capitulo en 3 partes fundamentales.

La primera parte cuenta un resumen de los conceptos y las tecnologías referentes al sistema de agentes, explicando que es un agente, los sistemas multi-agente, el estándar de comunicación entre agentes y la herramienta usada para tener el funcionamiento del sistema.

En la segunda parte describe los sistemas planificadores y el lenguaje que se ha usado para que los agentes software sean capaces de realizar una planificación.

La última parte está dedicada a la narrativa computacional, en la cuál veremos otros sistemas \emph{storytelling} y artículos relacionados con el ámbito del proyecto.

\section{Agentes}

\subsection{Agente Software}
\cite{Wooldridge} Define el concepto de agente de la siguiente manera: ``Un \emph{agente} es un sistema informático que se \emph{encuentra} en un \emph{entorno}, y que es capaz de realizar \emph{acciones autónomas} en este entorno con el fin de cumplir sus objetivos''.

Con ésto queremos dar a ver que un agente en particular es una entidad propia, que poseerá características y ciertas condiciones que le definirán como un individuo único dentro de su entorno. Un agente software dispone de todas estas características, y además es capaz de realizar acciones por cuenta propia en función de las situaciones en las que se encuentre en un momento dado.

\subsection{Agentes Inteligentes}

Considerar que un agente sea inteligente sugiere preguntarse, ¿Cuándo podemos considerar a un agente inteligente? \cite{Wooldridge} propone una lista de características que podemos esperar que posea un agente inteligente

\begin{itemize}
	\item Reactividad: Agentes inteligentes capaces de percibir su entorno y responder a los cambios que ocurren en éste con el fin de satisfacer sus objetivos.
	\item Proactividad: Agentes inteligentes capaces de manifestar comportamientos \emph{orientado a objetivos} tomando la iniciativa con el fin de satisfacer sus objetivos .
	\item Habilidades sociales: Agentes inteligentes capaces de interactuar con otros agentes (y posiblemente humanos) con el fin de satisfacer sus objetivos.
\end{itemize}

Realizar una generación de historias rica en contenido, calidad y diversidad requiere usar una combinación de estos agentes, ya sean solo agentes reactivos, proactivos, ó en algún caso una mezcla de ambos.

\subsection{Sistemas Multi-agente}
%Revisar, solo esta copiado directamente del drive
%Para nosotros un agente es una unidad software con capacidad de actuar en función y en conjunto o en contra de otras unidades software, como pueden ser otros agentes. Para ello están dotados de una falsa independencia, donde, siempre siguiendo las leyes de la programación, son capaces de actuar de una u otra forma.

``Incluso si un sistema de agentes puede basarse en un único agente funcionando en un entorno e interactuando con usuarios si fuese necesario, normalmente estos sistemas consisten en multiples agentes. Estos sistemas multi-agente (SMA) pueden modelar sistemas complejos e introducir la posibilidad de que los agentes tengan objetivos en común ó en conflicto. Estos agentes pueden interactuar entre ellos indirectamente (alterando el entorno) ó directamente (vía comunicación y negociación). Los agentes pueden decidir si cooperan para un beneficio mutuo ó si compiten por sus propios intereses'' \cite{greenwood}.

Una historia en la que sólo actúa un personaje \emph{a priori} no disfruta de tantos elementos, eventos y acontecimientos como lo puede hacer una en la que coexistan varios personajes, siendo coexistir la palabra clave. Un sistema multi-agente podemos verlo como un entorno en el que coexisten varios agentes y donde estos serán capaces de interactuar entre sí. Por tanto, nuestra generación de historias se basa en este tipo de sistemas.

\subsection{Foundation for Intelligent Physical Agents - FIPA}

\cite{fipa} es una organización que promueve las tecnologías basadas en agentes y la interoperatividad de sus estándares con otras tecnologías.

En el libro \cite{anamas} mencionan sobre FIPA lo siguiente: \textit{El estándar FIPA define los servicios que debe proporcionar toda plataforma de agentes: un sistema encargado del transporte de mensajes (Internal Platform Message Transport), un sistema de gestión de agentes (Agent Management System), un servicio de páginas amarillas (Directory Facilator) y un canal de comunicaciones para los agentes (Agent Communication Channel). Cada uno de estos servicios , excepto el de transporte de mensajes, es suministrado por agentes especializados, lo cual supone que la comunicación con ellos será mediante mensajes ACL (Agent Communication Language) mediante la ontología definida para ese servicio}.

En \cite{acl} disponemos de información detallada sobre los mensajes FIPA ACL.

La figura \ref{fig:ACLParameters} nos muestra la lista de parámetros que caracterizan a los mensajes FIPA ACL.

\begin{figure}[h!]
	\centering
	\includegraphics[width=1\textwidth]{Imagenes/tablaParametrosACL}
	\caption{Parámetros de los mensajes FIPA ACL}
	\label{fig:ACLParameters}
\end{figure}

Esta tabla y una explicación más detallada de todos los parámetros están disponibles en \cite{aclStructure}

En próximos capítulos veremos cómo los agentes son capaces de comunicarse entre sí usando los mensajes FIPA ACL.

\subsection{Java Agent Development Framework - JADE}

\cite{bellifemine2008white}, JADE es el middleware desarrollado por TILAB para el desarrollo de aplicaciones multi-agente distribuidas basadas en comunicación peer-to-peer. La inteligencia, la iniciativa, la información, los recursos y el control pueden ser totalmente distribuidos en terminales móviles así como en ordenadores en entornos cerrados. JADE está completamente desarrollado en Java y es la plataforma software que nos suministra las herramientas necesarias para poder desarrollar una aplicación basada en el paradigma de agentes.

La imágen \ref{fig:arquitecturaJade} nos muestra los elementos principales de la arquitectura de una plataforma JADE \cite{greenwood}.

\begin{figure}[h!]
	\centering
	\includegraphics[width=1\textwidth]{Imagenes/arquitecturaJade}
	\caption{Relación entre los principales elementos de la arquitectura}
	\label{fig:arquitecturaJade}
\end{figure}


\section{Planificadores}

\subsection{Planificación}
\cite{hoffmann}
\cite{javaff}
Si has buscado sobre el tema de agentes con anterioridad, habrás visto que en la misma línea o muy cerca de esa palabra se encuentran las palabras inteligencia artificial. Por supuesto como hemos dicho antes, a los agentes les hemos comparado de cierta manera con personas y ¿Qué son éstas sin inteligencia?, faltaría más que un agente software no disponga de inteligencia artificial.

Pues bien, nuestros agentes no son inteligentes, \emph{Per se}. Sólo hasta cierto punto disponen de una inteligencia basada en conocimiento y comportamientos que les ayudará a realizar las funciones de cada uno.

Claro, es necesario que nuestros agentes puedan razonar de alguna manera para que sean capaces de realizar acciones, pero ¿si encontramos una forma en la que el usuario pueda modificar la forma como piensan sus agentes con cierta libertad ?. Por ello se ha delegado la parte de inteligencia a un planificador.

El planificador es un sistema que permitirá a nuestros agentes razonar de una manera un tanto rudimentaria pero muy clara, ayudando a los agentes a encontrar una manera de cumplir sus objetivos. Imaginemos un caso sencillo que podamos aplicar nosotros y así poder entender como piensan nuestros agentes:

Estamos en nuestro dormitorio y queremos ir a buscar una botella con agua en la cocina y llevarla a nuestra habitación. Lo que debemos hacer entonces será ir desde la habitación hasta la cocina, coger la botella de agua, y por último ir de nuevo a la habitación. Hemos llevado a cabo una planificación mediante un algoritmo por pasos muy sencillo que nos ha permitido cumplir nuestro objetivo de forma eficiente.

Nuestros agentes actúan bajo el mismo principio, ellos conocen su objetivo pero desconocen la manera en que deben actuar para conseguirlo y para ello necesitamos un planificador que les indique los pasos necesarios a realizar en orden de que puedan conseguir su objetivo.

\subsection[PDDL]{Planning Domain Definition Language - PDDL}

\section{Narrativa Computacional}

\subsection[Proyecto anterior]{Generador de historias basado en agentes}
Este fue el primer sistema narrativo que investigamos para empezar a plantear nuestro proyecto. Se trata de un proyecto de fin de grado de unos alumnos de la Facultad de Informática de la Universidad Complutense de Madrid junto a un artículo para una conferencia en que explican brevemente el proyecto que realizaron \cite{556}. De esta investisgación hemos plantado las bases para empezar a desarrollar este proyecto, ya que utilizamos el mismo sistema multi-agentes, Jade, y el mismo planificador para ayudar a las simulaciones. Ha sido muy importante estudiar tanto su memoria como su código fuente para poder diferenciar bien su trabajo del nuestro.

Partimos de un trabajo reducido en el que siempre teníamos un mismo inicio (El dragón secuestra a la princesa), con un nudo(el rey contrata caballero) en bucle si se cumplía una condición(dragón mata caballero) y dos desenlaces (Un caballero salva a la princesa y se convierte en héroe o el rey se quedaba sin dinero para contratar caballeros y el dragón se queda con la princesa), esto dista de la idea que tenemos para generar historias diversas y cada vez que se ejecute la aplicación genere una historia única.

\subsection{Computational Approaches to Storytelling and Creativity}
Este artículo realizado por \cite{425} es importante para situarnos dentro del contexto histórico tanto de la \emph{Creatividad Computacional} como de los \emph{Sistemas de generación Narrativa}.



