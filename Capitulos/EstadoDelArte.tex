%---------------------------------------------------------------------
%
%                          Capítulo 2
%
%---------------------------------------------------------------------

\chapter{Estado de la Cuestión}
\label{cap:EstadoDeLaCuestion}

\begin{FraseCelebre}
\begin{Frase}
	El trabajo del maestro no consiste tanto en enseñar todo lo aprendible, como en producir en el alumno amor y estima por el conocimiento
\end{Frase}
\begin{Fuente}
	John Locke
\end{Fuente}
\end{FraseCelebre}


La finalidad de éste capítulo es ofrecer una base de conocimientos sólida donde queden reflejados los distintos conceptos y herramientas sobre los que se apoya el trabajo realizado. Para ello se ha estructurado este capitulo en tres partes fundamentales. Diferenciar cada parte permite elaborar una imágen clara sobre los pilares que constituyen el trabajo realizado.

La primera parte cuenta un resumen de los conceptos y las tecnologías referentes al sistema de Agentes. Los Agentes son el núcleo principal sobre el cuál se basa este proyecto, siendo estos los ``actores'' de cada historia.

En la segunda parte se describe los sistemas planificadores y el lenguaje que se ha usado para que los Agentes software sean capaces de realizar una planificación. La planificación es el sistema que van a usar estos Agentes para ser dotados de cierta ``inteligencia'' e interactúen con todo su entorno.

La última parte está dedicada a la narrativa computacional, en la cual se verán otros sistemas de generación de historias relacionados con el ámbito del proyecto. Entender y conocer el ámbito de la narrativa computacional, la creatividad computacional y la generación de historias, permite tener mejor enfoque sobre el contenido del proyecto y el punto desde el que parte.

\section{Agentes}
\label{cap:EstadoDeLaCuestion:Agentes}

\subsection{Agente Software}
%planteo, poner la cita entera en cursiva (ya que es de otra persona) y los emphasis en negrita
\cite{Wooldridge} Define el concepto de Agente de la siguiente manera:
\begin{quote}
	\textit{Un agente es un sistema informático que se encuentra en un entorno, y que es capaz de realizar acciones autónomas en éste entorno con el fin de cumplir sus objetivos.}
\end{quote}

Con ésto se quiere hacer ver que un Agente en particular es una entidad propia, que poseerá características y ciertas condiciones que le definirán como un individuo único dentro de su entorno. Un Agente software dispone de todas estas características, y además es capaz de realizar acciones por cuenta propia en función de las situaciones en las que se encuentre en un momento dado.

\subsection{Agentes Inteligentes}

Considerar que un Agente sea inteligente sugiere preguntarse, ¿cuándo considerar a un Agente inteligente? \cite{Wooldridge} propone una lista de características que puede poseer un Agente Inteligente

\begin{itemize}
	\item Reactividad: Agentes Inteligentes capaces de percibir su entorno y responder a los cambios que ocurren en éste con el fin de satisfacer sus objetivos.
	\item Proactividad: Agentes Inteligentes capaces de manifestar comportamientos orientado a objetivos tomando la iniciativa con el fin de satisfacer sus objetivos .
	\item Habilidades sociales: Agentes Inteligentes capaces de interactuar con otros Agentes( y posiblemente humanos).
\end{itemize}

Realizar una generación de historias rica en contenido, calidad y diversidad requiere usar una combinación de estos agentes, ya sean solo agentes reactivos, proactivos, ó en algún caso una mezcla de ambos con el fin de satisfacer sus objetivos. %no usamos sociales? (pnj)

\subsection{Sistemas Multi-agente}
%planteo, poner la cita entera en cursiva (ya que es de otra persona) y los emphasis en negrita
Según \cite{greenwood} : 
\begin{quote}
	\textit{Incluso si un sistema de agentes puede basarse en un único agente funcionando en un entorno e interactuando con usuarios si fuese necesario, normalmente estos sistemas consisten en multiples agentes. Estos Sistemas Multi-Agente (SMA) pueden modelar sistemas complejos e introducir la posibilidad de que los agentes tengan objetivos en común ó en conflicto. Estos agentes pueden interactuar entre ellos indirectamente (alterando el entorno) ó directamente (vía comunicación y negociación). Los agentes pueden decidir si cooperan para un beneficio mutuo ó si compiten por sus propios intereses.}
\end{quote}

Una historia en la que sólo actúa un personaje a priori no disfruta de tantos elementos, eventos y acontecimientos como lo puede hacer una en la que coexistan varios personajes. Por tanto, un sistema multi-agente se puede ver como un entorno en el que coexisten varios agentes y donde estos serán capaces de interactuar entre sí.% Por tanto, nuestra generación de historias se basa en este tipo de sistemas. %no lo acabo de ver claro, mejor algo del estilo En este tipo de sismetas se basa nuestra... o quiza solo quitar el por tanto, no se.

\subsection[FIPA]{Foundation for Intelligent Physical Agents - FIPA}

\cite{fipa} es una organización que promueve las tecnologías basadas en agentes y la interoperatividad de sus estándares con otras tecnologías.

En el libro \cite{anamas} mencionan sobre FIPA lo siguiente:
\begin{quote}
\textit{El estándar FIPA define los servicios que debe proporcionar toda plataforma de agentes: un sistema encargado del transporte de mensajes (Internal Platform Message Transport), un sistema de gestión de agentes (Agent Management System), un servicio de páginas amarillas (Directory Facilator) y un canal de comunicaciones para los agentes (Agent Communication Channel). Cada uno de estos servicios , excepto el de transporte de mensajes, es suministrado por agentes especializados, lo cual supone que la comunicación con ellos será mediante mensajes ACL (Agent Communication Language) mediante la ontología definida para ese servicio}.
\end{quote}
En \cite{acl} se dispone de información detallada sobre los mensajes FIPA ACL.

La Tabla \ref{fig:ACLParameters} nos muestra la lista de parámetros que caracterizan a los mensajes FIPA ACL.
%quiza sea mejor currarse la tabla en español en vez de poner la imagen


\begin{table}[h!]
	\centering
	\begin{tabular}{!{\vrule width 2pt}l!{\vrule width 2pt}l!{\vrule width 2pt}} 
		\noalign{\hrule height 2pt}
		\textbf{Parámetros}				& \textbf{Categoría del parámetro} \\ 
		\noalign{\hrule height 2pt}
		\verb|performative| 	& Tipo de acto comunicativo \\ \hline
		\verb|sender |			& Participante en la conversación \\ \hline
		\verb|receiver| 		& Participante en la conversación \\ \hline
		\verb|reply-to |		& Participante en la conversación \\ \hline
		\verb|content| 			& Contenido del mensaje \\ \hline
		\verb|language|			& Descripción del contenido \\ \hline
		\verb|enconding|		& Descripción del contenido \\ \hline
		\verb|ontology| 		& Descripción del contenido \\ \hline
		\verb|protocol| 		& Control de conversación \\ \hline
		\verb|conversation-id|	& Control de conversación \\ \hline
		\verb|reply-with|		& Control de conversación \\ \hline
		\verb|in-reply-to|		& Control de conversación \\ \hline
		\verb|reply-by|			& Control de conversación \\ 
		\noalign{\hrule height 2pt}
	\end{tabular}
	\caption{Tabla parámetros de los mensajes FIPA ACL}
	\label{fig:ACLParameters}
\end{table}
Esta tabla y una explicación más detallada de todos los parámetros son consultables en \cite{aclStructure}. %estan disponibles = son consultables? me parece mas apropiada la segunda

\subsection{Mensajes FIPA}
\label{cap:Arquitectura:SMA:FIPA}

En la tabla \ref{fig:ACLParameters}, se ve cuáles son los parámetros que caracterizan a los mensajes FIPA ACL. Cuando los agentes se comunican, identificar el tipo de mensajes que se envían es muy importante de cara al control y tipo de tareas que quieren realizar los Agentes. La Tabla \ref{fig:Performatives} contiene algunos de los diferentes tipos de comunicación que ofrece el campo \texttt{performative}:
\newpage

\begin{table}[h!]
	\centering
	\begin{tabular}{!{\vrule width 2pt}l!{\vrule width 2pt}l!{\vrule width 2pt}} 
		\noalign{\hrule height 2pt}
		\textbf{Acto comunicativo}		& \textbf{Descripción} \\ 
		\noalign{\hrule height 2pt}
		
		\texttt{Accept Proposal} 	& \parbox[t]{8cm}{La acción de aceptar una propuesta} \\ \hline
		\texttt{Call for Proposal}	& \parbox[t]{8cm}{La acción de hacer propuestas para realizar cierta acción }\\ \hline
		\texttt{Confirm}			& \parbox[t]{8cm}{El emisor informa al receptor que una proposición dada es cierta }\\ \hline
		\texttt{Disconfirm}			& \parbox[t]{8cm}{El emisor informa al receptor que una proposición dada es falsa} \\ \hline
		\texttt{Failure}			& \parbox[t]{8cm}{La acción de indicar a otro agente que se intentó realizar una acción pero este intento falló} \\ \hline
		\texttt{Inform}				& \parbox[t]{8cm}{El emisor informa al receptor que una proposición dada es cierta }\\ \hline
		\texttt{Propose}			& \parbox[t]{8cm}{La acción de enviar una propuesta para realizar cierta acción, dadas ciertas precondiciones} \\ \hline
		\texttt{Refuse}				& \parbox[t]{8cm}{La acción de rehusarse a realizar una acción dada, y explicando la razón por la cual no se realiza la acción }\\ \hline
		\texttt{Reject Proposal}	& \parbox[t]{8cm}{La acción de rechazar la propuesta de realizar cierta acción durante la negociación} \\ \hline
		\texttt{Request}			& \parbox[t]{8cm}{El emisor solicita al receptor a realizar cierta acción. Una importancia de \texttt{Request} es que solicita al receptor realizar otro acto comunicativo }\\ \hline
		
		
		\noalign{\hrule height 2pt}
	\end{tabular}
	\caption{Tipos de actos comunicativos definidos en \texttt{performative}}
	\label{fig:Performatives}
\end{table}

En el cuadro de Código \ref{mensajeRequest}\footnote{Recuperado de \cite{greenwood}} se puede ver un ejemplo del contenido de un mensaje usando el acto \texttt{Request}:

%basicstyle=\scriptsize o footnotesize
\lstset{frameround=fttt}
\begin{lstlisting}[basicstyle=\scriptsize,frame=trBL,caption={Ejemplo de mensaje FIPA ACL},label=mensajeRequest]
(request
:sender (agent-identifier :name alice@mydomain.com)
:receiver (agent-identifier :name bob@yourdomain.com)
:ontology travel-assistant
:language FIPA-SL
:protocol fipa-request
:content
""((action
(agent-identifier :name bob@yourdomain.com)
(book-hotel :arrival 15/10/2006
:departure 05/07/2002 ... )
))""
)
\end{lstlisting}

\subsection{Modelo del gestor de agentes}
%(ref) explica que e
El gestor de agentes proporciona el framework donde los agentes FIPA existen y operan. Éste establece el modelo lógico de referencia para la creación, registro, localización, comunicación, migración y retiro de los agentes.

Las entidades contenidas en la Figura \ref{fig:ModeloReferencia} son una configuración lógica y no implica ninguna configuración física.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{Imagenes/agentmanagementReference}
	\caption{Modelo de referencia del gestor de agentes.}
	\caption*{Recuperado de http://www.fipa.org/specs/fipa00023/XC00023H.html.}
	\label{fig:ModeloReferencia}
\end{figure}

Una \textbf{Agent Platform (AP)} proporciona la infraestructura física donde los agentes son desplegados. La AP comprende la máquina/s, sistema operativo, software de soporte de agentes, componentes de gestión de agentes FIPA (DF, AMS y MTS) y los agentes.

El \textbf{Directory Facilitator (DF)} es un componente esencial del AP(explicado más adelante). El DF proporciona un servicio de \textit{páginas amarillas} para el resto de agentes. Los agentes pueden registar sus servicios en el DF ó consultar éste para conocer que servicios ofrecen otros agentes. La Figura \ref{fig:PaginasAmarillas} muestra un ejemplo de este servicio.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{Imagenes/paginasAmarillas}
	\caption{Servicio de páginas amarillas.}
	\caption*{Recuperado de \cite{greenwood}.}
	\label{fig:PaginasAmarillas}
\end{figure}

El \textbf{Agent Management System (AMS)} es un componente esencial del AP. El AMS ejerce control de supervisión sobre el acceso y uso del AP. Sólo un AMS debe existir para cada AP. El AMS mantiene un directorio de AIDs (Agent Identifications) que contienen direcciones de transporte (entre otras cosas) para los agentes registrados en el AP. El AMS ofrece un servicio de \textit{páginas blancas} para otros agentes. Cada agente debe registrarse en el AMS para poder obtener un AID válido.

Un \textbf{Message Transport Service (MTS)} es el método de comunicación por defecto entre agentes a través de diferentes APs.

El diseño interno de una AP es labor de los desarrolladores del sistema de agentes y no está sujeto a una estandarización por parte de FIPA. Las APs y los agentes que son nativos a esa AP, ya sea por haber sidos creados ó migrados a esa AP, pueden utilizar cualquier método propio para la comunicación interna entre ellos.

\subsection{Identificación de los agentes}
Es oportuno comentar que para que un agente disponga de AID válido, el nombre usado como identificador al momento de crear un agente ha de ser único dentro del AP. De otra manera el sistema considera que el identificador se encuentra repetido y no será posible registrar correctamente el agente dentro del AP. El nombre identificador no es sensible a mayúsculas ni minúsculas, y es altamente recomendable que no contenga espacios en este para asegurar el correcto funcionamiento del sistema.

\subsection{Ciclo de vida de los agentes}
Un agente FIPA existe físicamente dentro de una AP y usa las facilidades proporcionadas por ésta para ejecutar sus funcionalidades. Dicho esto, el agente posee un ciclo de vida que es controlado por la AP como podemos observar en la Figura \ref{fig:CicloVidaAgentes}.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{Imagenes/cicloVidaAgentes}
	\caption{Ciclo de vida de los agentes FIPA.}
	\caption*{Recuperado de http://www.fipa.org/specs/fipa00023/XC00023H.html.}
	\label{fig:CicloVidaAgentes}
\end{figure}

\textbf{Active:} El MTS entrega mensajes al agente con normalidad.

\textbf{Initiated/Waiting/Suspended:} El MTS bien almacena en un buffer los mensajes hasta que el agente vuelva al estado activo ó reenvía los mensajes a una nueva localización (si el reenvío está disponible para el agente)

\textbf{Transit:} El MTS bien almacena en un buffer los mensajes hasta que el agente vuelva a estar activo (eso es, la función mover a fallado en la AP original ó el agente a iniciado satisfactoriamente en la AP destino) ó reenvía los mensajes a una nueva localización (si el reenvío está disponible para el agente). Téngase en cuenta que sólo los agentes móviles pueden entrar en estado de tránsito. Esto asegura que un agente estático ejecuta todas sus instrucciones en el nodo donde fue invocado.


\textbf{Unknown:} El MTS bien almacena en un buffer los mensajes o los rechaza, dependiendo de la política del MTS y de los requerimientos de transporte del mensaje.

Un agente en JADE dispone de 2 métodos fundamentales:
\begin{itemize}
	\item \texttt{setup()}: Método que se invoca al momento que se crea el agente, cuando el agente pasa a los estados de \textit{iniciado} y \textit{activo}. Dentro de este método se especifican las instrucciones y los comportamientos de los que dispondrá el agente.
	
	\item \texttt{takeDown()}: Método invocado automáticamente al momento que se destruye el agente. Principalmente nos permite liberar recursos usados por el agente antes de que deje de existir en la AP. 
\end{itemize}


\subsection[JADE]{Java Agent Development Framework - JADE}
%no tengo claro si es interpretar cita o la cita en si, si es la cita, propongo el estilo de la cursiva
\cite{bellifemine2008white}, JADE es el middleware desarrollado por TILAB\footnote{\texttt{http://jade.tilab.com/}} para el desarrollo de aplicaciones multi-agente distribuidas basadas en comunicación peer-to-peer. La inteligencia, la iniciativa, la información, los recursos y el control pueden ser totalmente distribuidos en terminales móviles así como en ordenadores en entornos cerrados. JADE está completamente desarrollado en Java y es la plataforma software que nos suministra las herramientas necesarias para poder desarrollar una aplicación basada en el paradigma de agentes.

%\setcounter{footnote}{0}

La Figura \ref{fig:arquitecturaJade} muestra los elementos principales de la arquitectura de una plataforma JADE \cite{greenwood}.

\begin{figure}[h!]
	\centering
	\includegraphics[width=1\textwidth]{Imagenes/arquitecturaJade}
	\caption{Relación entre los principales elementos de la arquitectura}
	\label{fig:arquitecturaJade}
\end{figure}

\subsection{Comportamientos JADE}
\label{cap:Arquitectura:ComportamientoJade}


Los agentes en JADE se especifican mediante comportamientos. Los comportamientos definen la forma de actuar para cada agente ante un problema dado. Cada comportamiento se encarga de resolver una tarea, comunicarse, o evaluar alguna condición del agente.

Cada agente dispone a su vez de una cola de comportamientos en la cual ser irán incluyendo los comportamientos agregados con \verb|addBehaviour()|. Cuando llega el turno de ejecución de un comportamiento, este intenta realizar su tarea y al finalizar es removido y eliminado de la cola. Existen comportamientos que en función del tipo que sean, al finalizar su tarea intentarán añadirse nuevamente a la cola.

Los tipos de comportamientos en JADE son los siguientes:

\begin{itemize}
	\item \textbf{Behaviour}. Comportamiento básico que proporciona los métodos \verb|action()| \footnote{Dentro se especifican las tareas que va a realizar el comportamiento.} y \verb|done()|\footnote{Devuelve \texttt{true} si el comportamiento ha finalizado su ejecución.}.
	\begin{itemize}
		
		\item \textbf{SimpleBehaviour}. Comportamientos que realizan tarea simples.
		
		\begin{itemize}
			\item \textbf{OneShotBehaviour}. Tipo de comportamiento que su método \verb|action()| se ejecuta una única vez.
			
			\item \textbf{TickerBehaviour}. Comportamiento de ejecución periódica.
			
			\item \textbf{WakerBehaviour}. Es una variación del OneShotBehaviour que inicia su ejecución después de un tiempo especificado.
			
			\item \textbf{CyclicBehaviour}. Comportamiento cuyo método \verb|done()| siempre devuelve \verb|false|, por tanto al terminar su \verb|action()| vuelve a la cola de comportamientos.
			
		\end{itemize}
		
		\item \textbf{CompositeBehaviour}. Nos permite integrar dentro de su estructura múltiples comportamientos.
		
		\begin{itemize}
			
			\item \textbf{ParallelBehaviour}. Este tipo permite la ejecución en paralelo de varios comportamientos.
			
			\item \textbf{SerialBehaviour}. Nos permite representar sucesiones de comportamientos.
			
			\begin{itemize}
				\item \textbf{SequentialBehaviour}. Obliga a los comportamientos que lo integran a ejecutarse en un orden especificado.
				
				\item \textbf{FSMBehaviour}. Nos permite emular una máquina de estados finita basada en comportamientos.
			\end{itemize}
		\end{itemize}
	\end{itemize}
\end{itemize}

La Figura \ref{fig:JerarquiaComportamientos} nos muestra un diagrama detallado de los comportamientos en JADE.

\begin{figure}[h]
	\centering
	\includegraphics[width=1\textwidth]{Imagenes/jerarquiaComportamientos}
	\caption{Diagrama de jerarquía de los comportamientos en JADE.}
	\caption*{Recuperado de \cite{greenwood}.}
	\label{fig:JerarquiaComportamientos}
\end{figure}

Al momento de diseñar el comportamiento de un agente es probable que se requiera de comportamientos que sean capaces de ejecutarse en paralelo y al mismo tiempo. El tipo \texttt{ParallelBehaviour} hace una ejecución en paralelo de dos ó más comportamientos pero lo que hace realmente es ejecutar un método \texttt{action()} a la vez, del comportamiento que toque, y luego va alternando con los demás comportamientos.

Esto se debe a que el manejo de los comportamientos no sigue una política de expulsión, es decir, cuando se está ejecutando el método \texttt{action()} de un comportamiento éste nunca se ve interrumpido para que otro inicie su ejecución. Sólo cuando ése método termina y devuelve la salida \texttt{done()} como \texttt{true} se otorga el control al \texttt{action()} del siguiente comportamiento en la cola.

JADE ofrece una solución bastante sencilla si necesitamos que dos comportamientos tengan la oportunidad de realmente ejecutarse a la vez, esto es asignando comportamientos a hilos dedicados.

La clase \texttt{ThreadedBehaviourFactory} dispone de un método \texttt{wrap()} que se encarga de encapsular el comportamiento en un hilo dedicado cuando se añade éste a un agente.

Por último, en la Figura \ref{fig:DiagramaFlujoAgentes} tenemos un diagrama de flujo que representa el ciclo de ejecución de un agente con sus comportamientos en JADE.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.7\textwidth]{Imagenes/ejecucionAgenteTraducido}
	\caption{Flujo de ejecución de un agente y sus comportamientos en JADE.} \caption*{Recuperado de \cite{greenwood}.}
	\label{fig:DiagramaFlujoAgentes}
\end{figure}

\section{Planificación y Lenguaje}

\subsection{Planificación}
Desde la perspectiva de \cite{hoffmann} :
\begin{quote}
	\textit{ La planificación es el problema de seleccionar una serie de acciones orientadas a objetivos, basados en una descripción de alto nivel del mundo. Desde la perspectiva de la informática, la planificación es sólo un formalismo que describe brevemente máquinas de estados grandes, similares a redes de autómatas o máquinas de Turing.}
\end{quote}

Mediante el proceso de planificación se consigue que los actores de las historias generadas logren disponer de una serie de acciones, que realizaran secuencialmente, y así se aseguran que cada personaje puede cumplir su objetivo.

\subsection{JavaFF}
En el artículo \cite{hoffmann2001ff} \textit{The FF Planning System: Fast Plan Generation Through Heuristic Search}, se describen y evalúan las técnicas algorítmicas que son usadas en los sistemas de planificación FF \footnote{Fast Forward. En \cite{hoffmannff} nos explican con detalle este sistema.}

En \cite{javaff} se explica que JavaFF es una implementación en Java de la estructura básica de \cite{hoffmann2001ff}, basada en en código fuente de CRIKEY \cite{coles2009managing}\footnote{La referencia que se hace al código fuente es de un documento de Agosto de 2008 que estaba por ser publicado en un recopilatorio en Enero de 2009, el cual es el documento final que referenciamos }.

El planificador usado para generar las historias está basado en la implementación antes mencionada y, más específicamente, en una leve modificación realizada en \cite{556} sobre esa implementación.

\subsection[PDDL]{Planning Domain Definition Language - PDDL}
\label{cap:EstadoDeLaCuestion:PDDL}

PDDL es un lenguaje para la especificación de problemas creado para la competición de planificadores AIPS-98. \cite{aeronautiques1998pddl} es un manual que explica la sintaxis y la semántica de este lenguaje. De igual manera cuenta que PDDL está hecho con la intención de expresar la ``física'' de un dominio, es decir, que predicados existen, que acciones son posibles y cuales son los efectos que ocurren tras cada acción.

Un aspecto importante del funcionamiento de este lenguaje, en conjunto con un planificador que sea capaz de interpretar las instrucciones especificadas, es que necesariamente se debe especificar al menos 2 documentos:

\begin{itemize}
	\item Dominio: Es el documento que contendrá la especificación de las acciones, los tipos, requerimientos y predicados para poder resolver un problema dado. Es lo que se encarga de dar el conjunto de requerimientos que permiten al planificador procesar un plan.
	
	\item Problema: Es el documento que contiene el estado inicial, los objetos y la especificación de objetivos.
\end{itemize}

\section{Narrativa Computacional}
\label{cap:EstadoDeLaCuestion:Narrativa}
Dentro del campo de la narrativa computacional hay algunos proyectos que tienen especial interés para el proyecto actual. Estos sirven para evitar partir desde cero, tener conocimiento del estado actual de la cuestión y así tener un punto de partida para aportar algo más a este campo.

\subsection{NOVEL WRITTER}
De los sistemas generadores de narrativa el que presume de ser el primero es el NOVEL WRITER de \cite{klein1973automatic}. Este sistema genera una historia de novela negra en la que se producen asesinatos en una fiesta durante un fin de semana. Para generar las historias utiliza un modelo de microsimulaciones en donde los comportamientos de los personajes y la sucesión de eventos que se producen son llevadas a cabo por normas probabilísticas que cambian constantemente el estado del mundo, mientras que la decisión de quien es el asesino o victima depende de los rasgos de entrada del personaje.

\subsection{TALE-SPIN}
Creado por \cite{Meehan:1977:TIP:1624435.1624452}, TALE-SPIN es un sistema que narra historias sobre la vida de las criaturas en el bosque. El sistema trabaja sobre planificaciones, por lo que cada personaje tiene un objetivo, en el cual puede participar más de un personaje para su resolución. Además estos objetivos sirven como desencadenadores de acciones de los personajes. El plan que desarrolla el sistema sirve como el hilo conductor de la historia. TALE-SPIN sirvió como punto de partida a proyectos como AUTHOR de \cite{Dehn:1981:SGA:1623156.1623160} o a UNIVERSE de \cite{lebowitz1985story}.

\subsection{AUTHOR}
Es un programa que genera historias que pretende simular la mente de un autor cuando inventa una historia. Las cuatro fuerzas principales que impulsan el proceso de generación de la historia, de acuerdo con el modelo AUTHOR, son:
\begin{itemize}
	\item La intencionalidad del autor.
	\item La reformulación conpetual.
	\item El recuerdo.
	\item La oportunidad de mejorar los meta-objetivos.
\end{itemize}

\subsection{UNIVERSE} 
Es el primer sistema generador de historias que centra la narrativa en torno a los personajes. Esta enfocado en la generación de historias como pueden ser las telenovelas o seriales televisivos, en donde la historia gira en las tramas que van surgiendo entre  personajes, más que en alcanzar un objetivo final, por lo que se generan historias que están en constante crecimiento.

Un punto interesante en UNIVERSE es la forma de creación tanto de los personajes como de las tramas(Véase en las siguientes Figuras).

\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{Imagenes/UniversePersonaje}
	\caption{Representación de un personaje en UNIVERSE}
	\label{fig:UniversePersonaje}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{Imagenes/UniverseTrama}
	\caption{Representación de una trama en UNIVERSE}
	\label{fig:UniverseTrama}
\end{figure}

\subsection{MINSTREL}
\cite{IRIS:thesisTurner1992} en su tesis doctoral trata el tema de Creatividad Computacional y la generación de narrativa. Por ello realizó este programa, el cual genera historias breves de no más de una página, sobre los Caballeros de la Mesa Redonda del Rey Arturo. Para la generación de la historia primero se realiza una fase de planificación y a continuación una fase de la resolución del problema.

Para la resolución del problema MINSTREL implementa una heurística denominada TRAM (Transform-Recall-Adapt Methods). Cada TRAM integra soluciones a problemas sencillos y al aplicar un conjunto de estas soluciones servirá para solucionar el problema inicial.

\subsection{MEXICA}
MEXICA es un modelo  computacional diseñado para estudiar el proceso creativo realizado por \cite{Mexica1999}. MEXICA genera historias cortas sobre los mexicas, lo primeros habitantes de Méjico. El programa consta dos rutinas. En la primera, el usuario define un conjunto de historias anteriores mientras que en la segunda genera nuevo material, le impone restricciones y revisa que se cumplan estas restricciones para crear nuevas historias. Fue pionera dentro de la generación de narrativa ya que contemplaba, durante el transcurso de la historia, los vínculos emocionales, las tensiones y las posiciones entre los personajes. 

\subsection{BRUTUS}
BRUTUS es un programa capaz de generar historias de traición, intriga y algo de misterio en correcta prosa Inglesa.

Sin embargo, gracias a la exposición de llevado a cabo por \cite{Bringsjord:1999:AIL:553698}, queda claro que BRUTUS no puede ser creativo sino que funciona utilizando ingeniería inversa.

\subsection{VIRTUAL STORYTELLER}
\cite{theune2003virtual} presenta un enfoque multi-agente para la generación de historias. Para guiar la  trama de la historia existe un \emph{agente director}, el cual no podrá obligar al resto de agentes a llevar a cabo acciones, pero sí podrá influir en el entorno de los agentes. También existe un \emph{agente narrador} que está encargado de traducir a lenguaje natural los cambios en el estado y los eventos que tienen lugar. Véase la Figura \ref{fig:VirtualStoryArq} para conocer la arquitectura de este sistema.\newline\newline

\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{Imagenes/VirtualStoryArq}
	\caption{Arquitectura de VIRTUAL STORYTELLER}
	\label{fig:VirtualStoryArq}
\end{figure}


\subsection{Generador de historias basado en agentes}
\label{cap:EstadoDeLaCuestion:Lacaustra}
Este fue el primer sistema narrativo que se investigó para empezar a plantear el proyecto. Se trata de un proyecto de fin de grado de unos alumnos de la Facultad de Informática de la Universidad Complutense de Madrid junto a un artículo para una conferencia en que explican brevemente el proyecto que realizaron \cite{556}. De esta investigación surgen las bases para empezar a desarrollar este proyecto, ya que se utiliza el mismo Sistema Multi-Agentes, JADE, y el mismo planificador para ayudar a las simulaciones. Ha sido muy importante estudiar tanto su memoria como su código fuente para poder diferenciar ambos proyectos.